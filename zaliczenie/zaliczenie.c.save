
#include <sys/types.h>

#include <sys/stat.h>

#include <fcntl.h>

#include <stdio.h>

#include <string.h>

#include <unistd.h>

#include <stdlib.h>

int addToFile(iterator)
{	

	printf("Hello World nr %i",iterator);
}

int main(int argc, char * argv[]) //argc - ilosc podanych argumentow, argv - tablica wypelniona argumentami
{

	if(argc<2 || argc>2)
	{
	printf("\nNie podano sciezki do pliku lub podano zbyt dużą liczbę argumentów.\n");
	exit(1);

}
   pid_t pid = fork();

   if (pid == -1) {
      perror("fork failed");
      exit(EXIT_FAILURE);
   }
   else if (pid == 0) {
      	for(int i=0; i<10; i++)
	{
	printf("%s %i \n",addToFile(i));
	}
 // Calling function in child process
      exit(EXIT_SUCCESS);
   }
   else {
      // Parent process
      int status;
      // Wait for child
      waitpid(pid, &status, 0);
   }

	char *path = argv[1];
	printf("\n%s",path);
}
